syntax = "proto3";

package vhook;

service ValidatorHook {
  rpc Subscribe(SubscribeBundleResults) returns (stream SerializedBundleResult);
  rpc SubmitBundle(SubmitBundleRequest) returns (SubmitBundleResponse);
}

message SubmitBundleRequest {
  string auth_code = 1;
  bytes bundle = 2;
}

message SubmitBundleResponse {
  bool success = 1;
}

message SubscribeBundleResults {
  string auth_code = 1;
}

message SerializedBundleResult {
  bytes content = 1;
}

